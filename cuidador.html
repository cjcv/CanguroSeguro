<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canguro Seguro</title>
</head>
<body>
    <header>
        <h1>Canguro Seguro</h1>
        <nav>
            <ul>
                <li><a href="index.html"><img src="logo.png" alt="Logo"></a></li>
                <li><a href="index.html#sobreNosotros">Sobre nosotros</a></li>
                <li><button>Salir</button></li>
            </ul>
        </nav>
        
    </header>
    <main>
        <article class="valoracion">
            <section class="vestrellas">

            </section>
            <section class="vporcentaje">

            </section>
        </article>
        <article class="buscador">

        </article>
        <aside class="chat">
            <h2>Chat</h2>
        </aside>
    </main>
</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.4/firebase-app.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
    import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.6.4/firebase-auth.js";
    import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.6.4/firebase-database.js";
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional

    const firebaseConfig = {
        apiKey: "AIzaSyCR5QgNysHAWi12xdVfBmuNNIWLWODi-KE",
        authDomain: "canguroseguro-2a8c6.firebaseapp.com",
        databaseURL: "https://canguroseguro-2a8c6-default-rtdb.firebaseio.com",
        projectId: "canguroseguro-2a8c6",
        storageBucket: "canguroseguro-2a8c6.appspot.com",
        messagingSenderId: "365126972375",
        appId: "1:365126972375:web:596c42bf8c0e8d3395d192",
        measurementId: "G-9X0RPEWHMG"
    };

    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth();

    onAuthStateChanged(auth, (user) => {
        if (user) {
            // User is signed in, see docs for a list of available properties
            // https://firebase.google.com/docs/reference/js/firebase.User
            const uid = user.uid;
            const user = userCredential.user;
            const dbRef = ref(database);
            get(child(dbRef, `users/${user.uid}`)).then((snapshot) => {
                if (snapshot.exists()) {
                    
                } else {
                    console.log("No data available");
                }
            }).catch((error) => {
                console.error(error);
            });
        } else {
            // User is signed out
            // ...
            location.href = "Login.html";
        }
    });
</script>
</html>